# –ü—Ä–æ–±–ª–µ–º—ã —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º –º–µ—Ç—Ä–∏–∫ RAGAS

## –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ—Ç—Ä–∏–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `nan` –∏–ª–∏ `0.0`

### –ü—Ä–∏—á–∏–Ω—ã

1. **Rate Limits Groq (429 Too Many Requests)**
   - Groq –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç **6000 —Ç–æ–∫–µ–Ω–æ–≤ –≤ –º–∏–Ω—É—Ç—É (TPM)** –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞
   - –ü—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ 8 –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–∞—Ç–∞—Å–µ—Ç–∞ —Å 6 –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∫–∞–∂–¥–∞—è (48 –∑–∞–ø—Ä–æ—Å–æ–≤) –º—ã –±—ã—Å—Ç—Ä–æ –ø—Ä–µ–≤—ã—à–∞–µ–º –ª–∏–º–∏—Ç
   - –ú–µ—Ç—Ä–∏–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ LLM (`faithfulness`, `answer_relevancy`, `answer_correctness`, `context_precision`, `context_recall`), –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω—ã –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ rate limit

2. **–û—à–∏–±–∫–∏ LLM –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫**
   - `ValidationError: Invalid JSON` - LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON –≤–º–µ—Å—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
   - `TimeoutError` - –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç —Ç–∞–π–º–∞—É—Ç –∏–∑-–∑–∞ rate limits
   - `AttributeError: 'HuggingFaceEmbeddings' object has no attribute 'embed_query'` - –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π RAGAS

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ä—É—Å—Å–∫–∏–º —è–∑—ã–∫–æ–º**
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ `faithfulness` –∏ `answer_relevancy`) –ø–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä—É—Å—Å–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º
   - LLM –º–æ–∂–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

### –†–µ—à–µ–Ω–∏—è

#### 1. –£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

–í `.env` —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```env
EVALUATION_MAX_CONCURRENT=2  # –í–º–µ—Å—Ç–æ 5 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
EVALUATION_DELAY_BETWEEN_REQUESTS=1.0  # –í–º–µ—Å—Ç–æ 0.3 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```

–≠—Ç–æ —É–º–µ–Ω—å—à–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ API –∏ —Å–Ω–∏–∑–∏—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è rate limits.

#### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∂–∏–º–∞

–í `.env` —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```env
EVALUATION_FAST_MODE=true
```

–≠—Ç–æ –≤—ã—á–∏—Å–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (`faithfulness`, `answer_relevancy`, `answer_similarity`), —á—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM.

#### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –º–µ—Ç—Ä–∏–∫

**–†–∞–±–æ—Ç–∞—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:**
- ‚úÖ `answer_similarity: 0.774` - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç LLM, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚ö†Ô∏è `context_recall: 0.167` - —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç—Ä–µ–±—É–µ—Ç LLM)
- ‚ö†Ô∏è `answer_correctness: 0.349` - —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç—Ä–µ–±—É–µ—Ç LLM)

**–ù–µ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:**
- ‚ùå `faithfulness: 0.0` - –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è `nan` (—Ç—Ä–µ–±—É–µ—Ç LLM, –ø—Ä–æ–±–ª–µ–º—ã —Å rate limits)
- ‚ùå `answer_relevancy: 0.0` - –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è `nan` (—Ç—Ä–µ–±—É–µ—Ç LLM, –ø—Ä–æ–±–ª–µ–º—ã —Å rate limits)
- ‚ùå `context_precision: 0.0` - –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π `nan` (—Ç—Ä–µ–±—É–µ—Ç LLM, –ø—Ä–æ–±–ª–µ–º—ã —Å rate limits)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è baseline —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `answer_similarity` –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é –º–µ—Ç—Ä–∏–∫—É (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ)
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `context_recall` –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –º–µ—Ç—Ä–∏–∫—É (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
   - –ò–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ `faithfulness` –∏ `answer_relevancy` - –æ–Ω–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑-–∑–∞ rate limits

2. **–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞:**
   - –£–º–µ–Ω—å—à–∏—Ç–µ `EVALUATION_MAX_CONCURRENT` –¥–æ 1-2
   - –£–≤–µ–ª–∏—á—å—Ç–µ `EVALUATION_DELAY_BETWEEN_REQUESTS` –¥–æ 2-3 —Å–µ–∫—É–Ω–¥
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –º–æ—â–Ω—ã–π —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω Groq (Dev Tier) –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π LLM API —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º–∏ –ª–∏–º–∏—Ç–∞–º–∏ (OpenRouter, Together AI)
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π LLM (Ollama) –¥–ª—è evaluation (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –±–µ–∑ rate limits)
   - –í—ã–ø–æ–ª–Ω—è–π—Ç–µ evaluation –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤ —Å –±–æ–ª—å—à–∏–º–∏ –ø–∞—É–∑–∞–º–∏ –º–µ–∂–¥—É –Ω–∏–º–∏

### –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- `EVALUATION_MAX_CONCURRENT=2` (–±—ã–ª–æ 5)
- `EVALUATION_DELAY_BETWEEN_REQUESTS=1.0` (–±—ã–ª–æ 0.3)

–≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–ª–∂–Ω—ã —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ rate limit, –Ω–æ evaluation –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ.

---

## –ü—Ä–æ–±–ª–µ–º–∞: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã evaluation —É—Ö—É–¥—à–∏–ª–∏—Å—å

### –°—Ç–∞—Ç—É—Å: üî¥ –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–Ω–∞–ª–∏–∑

**–î–∞—Ç–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏:** –¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è evaluation —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–µ—Ç—Ä–∏–∫ –ø–æ–∫–∞–∑–∞–ª–∏ —É—Ö—É–¥—à–µ–Ω–∏–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –∑–∞–ø—É—Å–∫–∞–º–∏.

### –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–∏–∑ `report.md`)

**–î–∞—Ç–∞—Å–µ—Ç 1: 06-rag-qa-dataset (8 –ø—Ä–∏–º–µ—Ä–æ–≤)**
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ—Å—Ç—å (faithfulness)**: 0.875  
- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ (answer_relevancy)**: 0.654  
- **–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ (answer_correctness)**: 0.823  
- **–ü–æ—Ö–æ–∂–µ—Å—Ç—å –Ω–∞ —ç—Ç–∞–ª–æ–Ω (answer_similarity)**: 0.891  
- **–ü–æ–ª–Ω–æ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (context_recall)**: 0.750  
- **–¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ (context_precision)**: 0.833  

**–î–∞—Ç–∞—Å–µ—Ç 2: 06-monitoring-qa (20 –ø—Ä–∏–º–µ—Ä–æ–≤)**
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ—Å—Ç—å (faithfulness)**: 0.000 (–∏–∑-–∑–∞ nan –≤ RAGAS)
- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ (answer_relevancy)**: 0.000 (–∏–∑-–∑–∞ nan –≤ RAGAS)
- **–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ (answer_correctness)**: 0.000 (–∏–∑-–∑–∞ nan –≤ RAGAS)
- **–ü–æ—Ö–æ–∂–µ—Å—Ç—å –Ω–∞ —ç—Ç–∞–ª–æ–Ω (answer_similarity)**: 0.933  
- **–ü–æ–ª–Ω–æ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (context_recall)**: 1.000  
- **–¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ (context_precision)**: 1.000  

### –¢–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–∏–∑ –ª–æ–≥–æ–≤)

**–î–∞—Ç–∞—Å–µ—Ç: 06-rag-qa-dataset (8 –ø—Ä–∏–º–µ—Ä–æ–≤)**
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ—Å—Ç—å (faithfulness)**: 0.000 (–±—ã–ª–æ 0.875) ‚ùå - –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è `nan` –∏–∑-–∑–∞ rate limits
- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ (answer_relevancy)**: 0.000 (–±—ã–ª–æ 0.654) ‚ùå - –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è `nan` –∏–∑-–∑–∞ rate limits
- **–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ (answer_correctness)**: 0.349 (–±—ã–ª–æ 0.823) ‚ö†Ô∏è - —É—Ö—É–¥—à–µ–Ω–∏–µ –Ω–∞ -0.474
- **–ü–æ—Ö–æ–∂–µ—Å—Ç—å –Ω–∞ —ç—Ç–∞–ª–æ–Ω (answer_similarity)**: 0.774 (–±—ã–ª–æ 0.891) ‚ö†Ô∏è - —É—Ö—É–¥—à–µ–Ω–∏–µ –Ω–∞ -0.117
- **–ü–æ–ª–Ω–æ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (context_recall)**: 0.167 (–±—ã–ª–æ 0.750) ‚ùå - —É—Ö—É–¥—à–µ–Ω–∏–µ –Ω–∞ -0.583
- **–¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ (context_precision)**: 0.000 (–±—ã–ª–æ 0.833) ‚ùå - —É—Ö—É–¥—à–µ–Ω–∏–µ –Ω–∞ -0.833

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É—Ö—É–¥—à–µ–Ω–∏–µ:**
- `context_precision`: -0.833 (100% –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è)
- `context_recall`: -0.583 (78% –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è)
- `answer_correctness`: -0.474 (58% –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è)
- `answer_similarity`: -0.117 (13% –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è)

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `RAG_MODE=semantic` ‚úÖ (—Ä–µ–∂–∏–º –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è)
- `SEMANTIC_K=10` ‚ö†Ô∏è (–≤–æ–∑–º–æ–∂–Ω–æ, –±—ã–ª–æ –º–µ–Ω—å—à–µ - 4-5)
- `EMBEDDINGS_PROVIDER=huggingface` ‚ö†Ô∏è (–≤–æ–∑–º–æ–∂–Ω–æ, –±—ã–ª–æ `ollama` –∏–ª–∏ `openai`)
- `EMBEDDINGS_MODEL=intfloat/multilingual-e5-base` ‚ö†Ô∏è (–Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å)
- `LLM_MODEL=llama-3.1-8b-instant` (Groq) ‚ö†Ô∏è (–±—ã–ª–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, Fireworks)

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

1. **–°–º–µ–Ω–∞ LLM —Å Fireworks –Ω–∞ Groq** üî¥ **–ì–õ–ê–í–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê**
   - Groq `llama-3.1-8b-instant` –º–æ–∂–µ—Ç –±—ã—Ç—å —Ö—É–∂–µ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É, —á–µ–º –º–æ–¥–µ–ª—å Fireworks
   - –ü—Ä–æ–±–ª–µ–º—ã —Å rate limits (6000 TPM) –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ—à–∏–±–∫–∞–º –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫
   - LLM –º–æ–∂–µ—Ç —Ö—É–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã RAGAS

2. **–°–º–µ–Ω–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤** ‚ö†Ô∏è
   - `intfloat/multilingual-e5-base` –º–æ–∂–µ—Ç –±—ã—Ç—å —Ö—É–∂–µ, —á–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∞—è –º–æ–¥–µ–ª—å
   - –í–æ–∑–º–æ–∂–Ω–æ, –±—ã–ª–∞ –º–æ–¥–µ–ª—å `aroxima/multilingual-e5-large-instruct` —á–µ—Ä–µ–∑ Ollama (–ª—É—á—à–µ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ)
   - HuggingFace embeddings –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–ª–∏ –º–µ–Ω–µ–µ —Ç–æ—á–Ω–æ

3. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ SEMANTIC_K –¥–æ 10** ‚ö†Ô∏è
   - –ë–æ–ª—å—à–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –º–æ–∂–µ—Ç —É—Ö—É–¥—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ (–±–æ–ª—å—à–µ —à—É–º–∞)
   - –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—ã—á–Ω–æ 4-5 –¥–ª—è semantic retrieval

4. **–ü—Ä–æ–±–ª–µ–º—ã —Å evaluation –∏–∑-–∑–∞ rate limits** üî¥
   - –ú–Ω–æ–≥–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ 429
   - –ü—É—Å—Ç—ã–µ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã LLM –∏–∑-–∑–∞ rate limits
   - Timeout –æ—à–∏–±–∫–∏ –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 1. –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ LLM (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1) üî¥

**–ü—Ä–æ–±–ª–µ–º–∞:** Groq `llama-3.1-8b-instant` —Ö—É–∂–µ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É –∏ –∏–º–µ–µ—Ç –Ω–∏–∑–∫–∏–µ rate limits.

**–†–µ—à–µ–Ω–∏–µ:** –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ Fireworks –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π LLM API:
```env
# –í–∞—Ä–∏–∞–Ω—Ç 1: Fireworks (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
OPENAI_BASE_URL=https://api.fireworks.ai/inference/v1
LLM_MODEL=accounts/fireworks/models/llama-3.1-8b-instruct
RAGAS_LLM_MODEL=accounts/fireworks/models/llama-3.1-8b-instruct

# –í–∞—Ä–∏–∞–Ω—Ç 2: OpenRouter (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –≤—ã—Å–æ–∫–∏–µ –ª–∏–º–∏—Ç—ã)
OPENAI_BASE_URL=https://openrouter.ai/api/v1
LLM_MODEL=meta-llama/llama-3.1-8b-instruct
RAGAS_LLM_MODEL=meta-llama/llama-3.1-8b-instruct
OPENAI_API_KEY=your_openrouter_key

# –í–∞—Ä–∏–∞–Ω—Ç 3: Together AI (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –≤—ã—Å–æ–∫–∏–µ –ª–∏–º–∏—Ç—ã)
OPENAI_BASE_URL=https://api.together.xyz/v1
LLM_MODEL=meta-llama/Llama-3.1-8B-Instruct-Turbo
RAGAS_LLM_MODEL=meta-llama/Llama-3.1-8B-Instruct-Turbo
OPENAI_API_KEY=your_together_key
```

#### 2. –£–ª—É—á—à–∏—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2) ‚ö†Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞:** `intfloat/multilingual-e5-base` –º–æ–∂–µ—Ç –±—ã—Ç—å —Ö—É–∂–µ, —á–µ–º `multilingual-e5-large-instruct`.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å:
```env
# –í–∞—Ä–∏–∞–Ω—Ç 1: Ollama (–ª—É—á—à–µ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
EMBEDDINGS_PROVIDER=ollama
EMBEDDINGS_MODEL=aroxima/multilingual-e5-large-instruct:latest

# –í–∞—Ä–∏–∞–Ω—Ç 2: HuggingFace (–±–æ–ª–µ–µ –∫—Ä—É–ø–Ω–∞—è –º–æ–¥–µ–ª—å)
EMBEDDINGS_MODEL=intfloat/multilingual-e5-large  # –≤–º–µ—Å—Ç–æ -base
```

#### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å SEMANTIC_K (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3) ‚ö†Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞:** `SEMANTIC_K=10` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ (–±–æ–ª—å—à–µ —à—É–º–∞).

**–†–µ—à–µ–Ω–∏–µ:** –£–º–µ–Ω—å—à–∏—Ç—å –¥–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:
```env
SEMANTIC_K=5  # –∏–ª–∏ 4, –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è semantic retrieval
```

#### 4. –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É rate limits (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4) ‚ö†Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞:** Rate limits Groq –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ—à–∏–±–∫–∞–º –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫.

**–†–µ—à–µ–Ω–∏–µ:** –£–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –≤ –∫–æ–¥–µ:
- `EVALUATION_MAX_CONCURRENT=2` (–±—ã–ª–æ 5)
- `EVALUATION_DELAY_BETWEEN_REQUESTS=1.0` (–±—ã–ª–æ 0.3)

–ú–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å:
```env
EVALUATION_MAX_CONCURRENT=1  # –µ—â–µ –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ
EVALUATION_DELAY_BETWEEN_REQUESTS=2.0  # –±–æ–ª—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞
```

### –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:** –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ Fireworks –∏–ª–∏ –¥—Ä—É–≥–æ–º—É LLM API —Å –ª—É—á—à–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º
2. **–ó–∞—Ç–µ–º:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å `SEMANTIC_K` –¥–æ 4-5
3. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:** –£–ª—É—á—à–∏—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ (Ollama –∏–ª–∏ –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω–∞—è –º–æ–¥–µ–ª—å)
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å evaluation —Å–Ω–æ–≤–∞ –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã evaluation —Å –ø–æ–ª–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –º–µ—Ç—Ä–∏–∫
2. ‚úÖ –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —É—Ö—É–¥—à–∏–ª–∏—Å—å –∏ –Ω–∞—Å–∫–æ–ª—å–∫–æ
3. ‚úÖ –°—Ä–∞–≤–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º —É—Å–ø–µ—à–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º
4. ‚úÖ –ü—Ä–æ–≤–µ—Å—Ç–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏
5. ‚úÖ –í–Ω–µ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–ª–∏ –∫–æ–¥
6. ‚è≥ –ü–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å evaluation –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–ª—É—á—à–µ–Ω–∏—è

---

## –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è 1: –£–º–µ–Ω—å—à–µ–Ω–∏–µ SEMANTIC_K

**–î–∞—Ç–∞:** –¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è  
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** `SEMANTIC_K=10` ‚Üí `SEMANTIC_K=5`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è semantic retrieval –æ–±—ã—á–Ω–æ 4-5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ë–æ–ª—å—à–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (10) –¥–æ–±–∞–≤–ª—è–µ—Ç —à—É–º –∏ –º–æ–∂–µ—Ç —É—Ö—É–¥—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å `context_precision` –∏ `context_recall`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:**
- –£–ª—É—á—à–µ–Ω–∏–µ `context_precision` (–º–µ–Ω—å—à–µ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
- –£–ª—É—á—à–µ–Ω–∏–µ `context_recall` (–±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π –ø–æ–∏—Å–∫)
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ–±–æ–ª—å—à–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ `answer_correctness` –∏ `answer_similarity`

### ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ evaluation –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–°—Ç–∞—Ç—É—Å:** –£–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –≤ –∫–æ–¥–µ  
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `EVALUATION_MAX_CONCURRENT=2` (–±—ã–ª–æ 5)
- `EVALUATION_DELAY_BETWEEN_REQUESTS=1.0` (–±—ã–ª–æ 0.3)

**–≠—Ñ—Ñ–µ–∫—Ç:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ rate limit, –Ω–æ evaluation –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ

### üîÑ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–í–µ—Ä–Ω—É—Ç—å LLM –Ω–∞ Fireworks/OpenRouter** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
   - Groq –∏–º–µ–µ—Ç –Ω–∏–∑–∫–∏–µ rate limits –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ö—É–∂–µ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É
   - Fireworks –∏–ª–∏ OpenRouter –¥–∞–¥—É—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
   - –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ Ollama `multilingual-e5-large-instruct` –¥–ª—è –ª—É—á—à–µ–π —Ä–∞–±–æ—Ç—ã —Å —Ä—É—Å—Å–∫–∏–º
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω—É—é HuggingFace –º–æ–¥–µ–ª—å

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `chunk_size` –∏ `chunk_overlap` –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–Ω–¥–µ–∫—Å –∞–∫—Ç—É–∞–ª–µ–Ω –∏ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

