## –ò–¥–µ—è: LLM-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∫–∞–∫ Telegram-–±–æ—Ç —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∏ –æ—Ü–µ–Ω–∫–æ–π –∫–∞—á–µ—Å—Ç–≤–∞

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å RAG-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤ –≤–∏–¥–µ Telegram-–±–æ—Ç–∞: –±–æ—Ç –≤–µ–¥—ë—Ç –¥–∏–∞–ª–æ–≥ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, —Å–æ—á–µ—Ç–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–æ–ª—å –∏ –∑–Ω–∞–Ω–∏—è –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑—ã PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã RAG pipeline –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—Ü–µ–Ω–∫—É –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ RAGAS –º–µ—Ç—Ä–∏–∫–∏.

### –ö–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –í–µ–¥–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ –≤ —á–∞—Ç–µ Telegram.
- –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —É—á—ë—Ç–æ–º —Ä–æ–ª–∏ –∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Retrieval-Augmented Generation (RAG).
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ LangChain messages (HumanMessage, AIMessage, SystemMessage).
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è PDF-—Ñ–∞–π–ª–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `@data` –≤ InMemory –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É.
- –ö–æ–º–∞–Ω–¥—ã `/index` –∏ `/index_status` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞.
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ Advanced RAG**:
  - **–¢—Ä–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã RAG pipeline** (–ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—ã–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥):
    - Semantic-only: —Ç–æ–ª—å–∫–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º
    - Hybrid: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ BM25 (keyword-based –ø–æ–∏—Å–∫)
    - Hybrid + Reranker: –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–Ω–∂–∏—Ä—É—é—â–µ–π –º–æ–¥–µ–ª—å—é (Cross-Encoder)
  - **Hybrid Retrieval**: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ (embeddings) –∏ BM25 –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - **Cross-Encoder Reranking**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–Ω–∂–∏—Ä—É—é—â–µ–π –º–æ–¥–µ–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ hybrid retrieval
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è semantic search, BM25, hybrid retrieval –∏ reranker —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** –≤ –æ—Ç–≤–µ—Ç–µ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `SHOW_SOURCES`): —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LangSmith** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç—Ä–µ–π—Å–∏–Ω–≥–∞ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ RAG pipeline.
- **–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ RAGAS**: –∫–æ–º–∞–Ω–¥–∞ `/evaluate_dataset` –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª evaluation –ø–æ –¥–∞—Ç–∞—Å–µ—Ç—É –∏–∑ LangSmith, –≤—ã—á–∏—Å–ª—è–µ—Ç 6 –º–µ—Ç—Ä–∏–∫ (faithfulness, answer_relevancy, answer_correctness, answer_similarity, context_recall, context_precision) –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞—Ç–Ω–æ –≤ LangSmith.
- **–ú–æ–¥—É–ª—å —Å–∏–Ω—Ç–µ–∑–∞ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö Q&A –ø–∞—Ä –∏–∑ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ LLM, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –≤ LangSmith.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –º–æ–¥–µ–ª–µ–π (openai/huggingface) –¥–ª—è embeddings –∏ RAGAS embeddings —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### –†–æ–ª—å –º–æ–¥–µ–ª–∏
- –†–æ–ª—å –∑–∞–¥–∞—ë—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –ø—Ä–æ–º–ø—Ç–µ LLM –∫–∞–∫ ¬´–±–∞–Ω–∫–æ–≤—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç¬ª.
- –û—Ç–≤–µ—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–∏, –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞ –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —á–∞–Ω–∫–æ–≤ –∏–∑ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

### –ë–∞–∑–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: Telegram-–±–æ—Ç –Ω–∞ –±–∞–∑–µ `aiogram` (polling).
- –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞: –≤–µ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥ –∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–æ–ª—å –∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç.
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∑–≤–æ–ª—è—Ç—å –º–µ–Ω—è—Ç—å —Ä–æ–ª—å (—á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç) –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞ –∏ –ø–æ –∫–æ–º–∞–Ω–¥–µ `/index`.
- –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ (InMemoryVectorStore).

### MVP-—Ä–∞–º–∫–∏
- –ö–æ–º–∞–Ω–¥—ã: `/start`, `/help`, `/reset`, `/index`, `/index_status`, `/evaluate_dataset`, –¥–∏–∞–ª–æ–≥–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
- –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –ø–æ –∫–æ–º–∞–Ω–¥–µ `/index`.
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤, —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å).
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**:
  - Semantic-only —Ä–µ–∂–∏–º: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–ø-K —á–∞–Ω–∫–æ–≤ –ø–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É —Å—Ö–æ–¥—Å—Ç–≤—É
  - Hybrid —Ä–µ–∂–∏–º: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ (—Ç–æ–ø-K —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö) –∏ BM25 (—Ç–æ–ø-K keyword-based), –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - Hybrid + Reranker —Ä–µ–∂–∏–º: –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–Ω–∂–∏—Ä–æ–≤–∫–æ–π —á–µ—Ä–µ–∑ Cross-Encoder –º–æ–¥–µ–ª—å –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ç–æ–ø-K –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è K (–¥–ª—è semantic, BM25, hybrid, reranker) –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ (—Ñ–æ—Ä–º–∞—Ç: "üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏: filename.pdf (—Å—Ç—Ä. 1, 3, 5)").
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–π—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ LangSmith (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è).
- –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ RAGAS –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –¥–∞—Ç–∞—Å–µ—Ç—É –∏–∑ LangSmith.
- –í—Å–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π (LLM, embeddings, crossencoder) –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- –õ–æ–≥–∏ –º–∏–Ω–∏–º—É–º —É—Ä–æ–≤–Ω—è `INFO` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

### –†–∞—Å—à–∏—Ä–µ–Ω–∏—è (–ø–æ –º–µ—Ä–µ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏)
- –†–æ—Ç–∞—Ü–∏—è/–≤—ã–≥—Ä—É–∑–∫–∞ –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ –¥–∏—Å–∫.
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

