## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –≤–∏–¥–µ–Ω–∏–µ (MVP)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä—É–µ—Ç –∏–¥–µ—é –∏–∑ `docs/idea.md` –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ (KISS, YAGNI).

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- –Ø–∑—ã–∫: Python 3.11
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏: `uv`
- –°–±–æ—Ä–∫–∞/—É—Ç–∏–ª–∏—Ç—ã: `make` (–∑–∞–¥–∞—á–∏: —É—Å—Ç–∞–Ω–æ–≤–∫–∞, –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞, —Ñ–æ—Ä–º–∞—Ç/–ª–∏–Ω—Ç)
- Telegram Bot API: `aiogram` 3.x, —Ä–µ–∂–∏–º `polling`
- LangChain: —Ü–µ–ø–æ—á–∫–∏, retriever, InMemoryVectorStore, RunnablePassthrough
- LLM –∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏: Fireworks AI / OpenAI / HuggingFace —á–µ—Ä–µ–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π `openai`-–∫–ª–∏–µ–Ω—Ç (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `.env`)
- –ú–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `.env` (—Å –≤—ã–±–æ—Ä–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `logging` (—É—Ä–æ–≤–µ–Ω—å `INFO`)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ –∏ –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ LangChain messages
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: LangSmith –¥–ª—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ LangChain)
- **–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞**: RAGAS –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ (faithfulness, answer_relevancy, answer_correctness, answer_similarity, context_recall, context_precision)
- **–°–∏–Ω—Ç–µ–∑ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Q&A –ø–∞—Ä –∏–∑ PDF —á–µ—Ä–µ–∑ LLM

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ú–∏–Ω–∏–º—É–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–∏–ø–æ—Ç–µ–∑—ã (KISS, YAGNI).
- –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–º–∏.
- –ü—Ä–æ—Å—Ç–æ–π trunk-based workflow (–≤–µ—Ç–∫–∞ `main`, –∫–æ—Ä–æ—Ç–∫–∏–µ feature-–≤–µ—Ç–∫–∏).
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∫–æ–¥–∞: `ruff` (–ª–∏–Ω—Ç) –∏ `black` (—Ñ–æ—Ä–º–∞—Ç) —á–µ—Ä–µ–∑ `make`.
- –ú–∏–Ω–∏–º—É–º —Ç–µ—Å—Ç–æ–≤: smoke-—Ç–µ—Å—Ç –∑–∞–ø—É—Å–∫–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –±–∞–∑–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä—è–¥–æ–º —Å –∫–æ–¥–æ–º: `README`, `docs/*` –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É.
### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
06-monitoring-qa/
  Makefile
  pyproject.toml
  .env.example
  docs/
    idea.md
    vision.md
    tasklist.md
    conventions.md
    workflow.md
  @data/                    # PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ JSON —Ñ–∞–π–ª—ã –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
  datasets/                 # —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã –¥–ª—è evaluation
    06-rag-qa-dataset.json
  src/
    app/
      __init__.py
      config.py              # –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ env
      logging.py             # –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ logging
      memory/
        __init__.py
        session.py           # –ø–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞: –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Ä–µ–ø–ª–∏–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ LangChain messages
      indexing/
        __init__.py
        loader.py            # —á—Ç–µ–Ω–∏–µ PDF, —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
        vector_store.py      # in-memory –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —Å—Ç–∞—Ç—É—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
      rag/
        __init__.py
        chain.py             # –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ rag_query_transform_chain —Å RunnablePassthrough –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
      evaluation/
        __init__.py
        evaluation.py        # –º–æ–¥—É–ª—å –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ RAGAS
      synthesis/
        __init__.py
        dataset_synthesizer.py  # –º–æ–¥—É–ª—å —Å–∏–Ω—Ç–µ–∑–∞ Q&A –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –∏–∑ PDF
      llm/
        __init__.py
        client.py            # –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º
      bot/
        __init__.py
        handlers.py          # –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π (–≤–∫–ª—é—á–∞—è /index, /index_status, /evaluate_dataset)
        main.py              # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –±–æ—Ç–∞ (aiogram polling)
```

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `TELEGRAM_BOT_TOKEN` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `OPENAI_API_KEY` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `OPENAI_BASE_URL=https://api.fireworks.ai/inference/v1`
- `LLM_MODEL=accounts/fireworks/models/llama-v3p1-8b-instruct`
- `EMBEDDINGS_MODEL=accounts/fireworks/models/nomic-embed-text-v1`
- `EMBEDDINGS_PROVIDER=ollama` (openai/huggingface/ollama - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ollama)
- `SYSTEM_ROLE=–±–∞–Ω–∫–æ–≤—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç`
- `CONTEXT_TURNS=8`
- `RETRIEVER_K=4`
- `DATA_PATH=@data`
- `LOG_LEVEL=INFO`
- `SHOW_SOURCES=false` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ –æ—Ç–≤–µ—Ç–µ)
- **LangSmith –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**:
  - `LANGSMITH_API_KEY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞ –∏ evaluation)
  - `LANGSMITH_PROJECT` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ LangSmith)
- **RAGAS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**:
  - `RAGAS_LLM_MODEL` (–º–æ–¥–µ–ª—å –¥–ª—è RAGAS –º–µ—Ç—Ä–∏–∫, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é LLM_MODEL)
  - `RAGAS_EMBEDDING_MODEL` (–º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è RAGAS, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é EMBEDDINGS_MODEL)
  - `RAGAS_EMBEDDINGS_PROVIDER` (–ø—Ä–æ–≤–∞–π–¥–µ—Ä —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è RAGAS, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é EMBEDDINGS_PROVIDER)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  bot/main.py                   ‚îÇ  ‚Üê —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ polling
‚îÇ  - —Å–æ–∑–¥–∞—ë—Ç Bot, Dispatcher     ‚îÇ
‚îÇ  - —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç handlers       ‚îÇ
‚îÇ  - –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é   ‚îÇ
‚îÇ  - –∑–∞–ø—É—Å–∫–∞–µ—Ç polling           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  bot/handlers.py               ‚îÇ  ‚Üê –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ  - /start, /help, /reset       ‚îÇ
‚îÇ  - /index, /index_status       ‚îÇ
‚îÇ  - —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (RAG)   ‚îÇ
‚îÇ  - –∏—Å–ø–æ–ª—å–∑—É—é—Ç memory, rag chain‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚ñº    ‚ñº         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ indexing ‚îÇ  ‚îÇ memory/      ‚îÇ   ‚îÇ rag/chain.py  ‚îÇ
‚îÇ loader + ‚îÇ  ‚îÇ session.py   ‚îÇ   ‚îÇ               ‚îÇ
‚îÇ vector   ‚îÇ  ‚îÇ - —Ö—Ä–∞–Ω–∏—Ç     ‚îÇ   ‚îÇ - query       ‚îÇ
‚îÇ store    ‚îÇ  ‚îÇ   ŒπœÉœÑŒøp–∏—é    ‚îÇ   ‚îÇ   transform   ‚îÇ
‚îÇ - PDF    ‚îÇ  ‚îÇ   LangChain   ‚îÇ  ‚îÇ - retrieval   ‚îÇ
‚îÇ - —á–∞–Ω–∫–∏  ‚îÇ  ‚îÇ   messages   ‚îÇ   ‚îÇ - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ              ‚îÇ               ‚îÇ
           ‚ñº              ‚ñº               ‚ñº
        InMemoryVectorStore           llm/client.py

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.py):
- —á–∏—Ç–∞–µ—Ç .env
- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (logging.py):
- –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç stdlib logging
- —É—Ä–æ–≤–µ–Ω—å INFO
```

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
- –õ–∏–Ω–µ–π–Ω—ã–π –ø–æ—Ç–æ–∫: main ‚Üí handlers ‚Üí llm/memory
- –ù–µ—Ç dependency injection, –Ω–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- config.py ‚Äî –º–æ–¥—É–ª—å —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É
- –ë–µ–∑ middleware, –±–µ–∑ –ø–ª–∞–≥–∏–Ω–æ–≤, –±–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π —Å–≤–µ—Ä—Ö MVP

### –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

**Session Memory (memory/session.py):**
- –•—Ä–∞–Ω–∏–ª–∏—â–µ: `dict[int, list[BaseMessage]]` ‚Äî —Å–ø–∏—Å–æ–∫ LangChain messages.
- –ú–µ—Ç–æ–¥—ã:
  - `add_message(user_id, message: BaseMessage)` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ–±—Ä–µ–∑–∞–µ—Ç –¥–æ `CONTEXT_TURNS`.
  - `get_messages(user_id)` ‚Üí —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N —Å–æ–æ–±—â–µ–Ω–∏–π.
  - `clear_session(user_id)` ‚Äî –æ—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–∏ (–¥–ª—è –∫–æ–º–∞–Ω–¥—ã `/reset` –∏ –ø—Ä–∏ `/start`).

**RAG-—Ü–µ–ø–æ—á–∫–∞:**
- `rag_query_transform_chain` (LangChain): —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ —Å —É—á—ë—Ç–æ–º –∏—Å—Ç–æ—Ä–∏–∏, retrieval, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞.
- –†–µ—Ç—Ä–∏–≤–µ—Ä: InMemoryVectorStore retriever (`similarity_search` —Ç–æ–ø-K).
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö: PDF-–¥–æ–∫—É–º–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ LangChain loaders (–ø—Ä–∏–º–µ—Ä: `PyPDFLoader`), —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ —á–∞–Ω–∫–∏.
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —á–∞–Ω–∫–æ–≤ –≤–∫–ª—é—á–∞—é—Ç –ø—É—Ç—å –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –∏ –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –º–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.
- **–í–æ–∑–≤—Ä–∞—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**: —Ü–µ–ø–æ—á–∫–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `RunnablePassthrough` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫–∞–∫ –æ—Ç–≤–µ—Ç–∞, —Ç–∞–∫ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (—Å–º. —Ä–µ—Ñ–µ—Ä–µ–Ω—Å: —Ä–∞–∑–¥–µ–ª 1.2 —Ç–µ—Ç—Ä–∞–¥–∫–∏ `rag-evaluation-practice.ipynb`).
- **–¢—Ä–µ–π—Å–∏–Ω–≥**: –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ `LANGSMITH_API_KEY` –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ LangSmith —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é LangChain.

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.py):**
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª—è: `telegram_token`, `fireworks_api_key`, `llm_model`, `system_role`, `context_turns`, `log_level`
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ `.env` —á–µ—Ä–µ–∑ `python-dotenv` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –∏ `os.getenv()`)

### –†–∞–±–æ—Ç–∞ —Å LLM

**llm/client.py ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º Fireworks:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `OpenAI(base_url=fireworks_base_url, api_key=fireworks_api_key)`
- –ú–µ—Ç–æ–¥ `generate(messages: list[BaseMessage]) -> str`:
  - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç LangChain messages –≤ —Ñ–æ—Ä–º–∞—Ç Chat API, –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç.
  - –í—ã–∑—ã–≤–∞–µ—Ç `client.chat.completions.create(model=llm_model, messages=messages)` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `response.choices[0].message.content`.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏—è "–ò–∑–≤–∏–Ω–∏—Ç–µ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ".

**–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã:**
1. Handler –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ë–µ—Ä—ë—Ç –∏—Å—Ç–æ—Ä–∏—é –∏–∑ Session Memory: `get_messages(user_id)`
3. –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø–∞–º—è—Ç—å
4. –í—ã–∑—ã–≤–∞–µ—Ç `llm_client.generate(messages)` —Å –∏—Å—Ç–æ—Ä–∏–µ–π
5. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç –±–æ—Ç–∞ –≤ Session Memory
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ Telegram

### –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã

**1. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:**
- –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è (–æ—á–∏—Å—Ç–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤).
- –°—Ç–∞—Ç—É—Å –∏–Ω–¥–µ–∫—Å–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≤—Ä–µ–º—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.

**2. –ö–æ–º–∞–Ω–¥–∞ /start:**
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ü—Ä–∏–≤–µ—Ç! –Ø –±–∞–Ω–∫–æ–≤—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –∏ —è –ø–æ–º–æ–≥—É –≤–∞–º."
- –û—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**2. –ö–æ–º–∞–Ω–¥–∞ /help:**
- –°–æ–æ–±—â–µ–Ω–∏–µ: "–Ø –±–∞–Ω–∫–æ–≤—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –∏ —è –æ—Ç–≤–µ—á—É –Ω–∞ –Ω–∏—Ö."

**3. –ö–æ–º–∞–Ω–¥–∞ /reset:**
- –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `clear_session(user_id)`.
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: "–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ –æ—á–∏—â–µ–Ω–∞. –ù–∞—á–∏–Ω–∞–µ–º —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞."

**4. –ö–æ–º–∞–Ω–¥–∞ /index:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é: –æ—á–∏—Å—Ç–∫–∞ in-memory –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã, –∑–∞–≥—Ä—É–∑–∫–∞ PDF, —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è.
- –û—Ç–≤–µ—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —á—Ç–æ –∏–Ω–¥–µ–∫—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.

**5. –ö–æ–º–∞–Ω–¥–∞ /index_status:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `running`/`ready`) –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–∞–Ω–∫–æ–≤.

**6. –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Session Memory (HumanMessage).
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ "–ø–µ—á–∞—Ç–∞–µ—Ç..." —á–µ—Ä–µ–∑ `bot.send_chat_action("typing")`.
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ `rag_query_transform_chain`: —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–ø-K —á–∞–Ω–∫–æ–≤, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
- –í—ã–∑–æ–≤ LLM —á–µ—Ä–µ–∑ `llm_client.generate(...)` —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ (AIMessage) –≤ Session Memory.
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞: –µ—Å–ª–∏ `SHOW_SOURCES=true`, –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–µ–∫—Ü–∏—è "üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏: filename.pdf (—Å—Ç—Ä. 1, 3, 5)" —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤.
- –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —à–∞–≥–æ–≤ (user_id, –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞).
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–π—Å–∏–Ω–≥ –≤ LangSmith (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω).

**7. –ö–æ–º–∞–Ω–¥–∞ /evaluate_dataset:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –¥–∞—Ç–∞—Å–µ—Ç–∞ –≤ LangSmith (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `LANGSMITH_API_KEY`).
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑ LangSmith —á–µ—Ä–µ–∑ API.
- –ó–∞–ø—É—Å–∫ RAG pipeline –Ω–∞ –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –¥–∞—Ç–∞—Å–µ—Ç–∞.
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ 6 RAGAS –º–µ—Ç—Ä–∏–∫: faithfulness, answer_relevancy, answer_correctness, answer_similarity, context_recall, context_precision.
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–±—Ä–∞—Ç–Ω–æ –≤ LangSmith –∫–∞–∫ feedback.
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–≤–æ–¥–∫–∏ –º–µ—Ç—Ä–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ Telegram.

**8. –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ LLM:**
- –û—Ç–¥–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏/—Ç–∞–π–º–∞—É—Ç–æ–≤ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–µ—Ç–∞–ª–µ–π
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: "–ò–∑–≤–∏–Ω–∏—Ç–µ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."

**9. –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:**
- –î–ª—è MVP –º–æ–∂–Ω–æ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å, –Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ä–∞–∑—É–º–Ω—ã–π –ª–∏–º–∏—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4000 —Å–∏–º–≤–æ–ª–æ–≤)

### –ü–æ–¥—Ö–æ–¥ –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—é

- **config.py:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `python-dotenv` (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ `.env` —Ñ–∞–π–ª–∞)
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª—è: `telegram_token`, `openai_api_key`, `openai_base_url`, `llm_model`, `system_role`, `context_turns`, `log_level`
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `TELEGRAM_BOT_TOKEN`, `OPENAI_API_KEY` ‚Äî –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å –¥–µ—Ñ–æ–ª—Ç–∞–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è: –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –≤—ã–±—Ä–æ—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º, –µ—Å–ª–∏ —á–µ–≥–æ-—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
  - `OPENAI_BASE_URL=https://api.fireworks.ai/inference/v1`
  - `LLM_MODEL=accounts/fireworks/models/llama-v3p1-8b-instruct`
  - `SYSTEM_ROLE=–±–∞–Ω–∫–æ–≤—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç`
- `CONTEXT_TURNS=8`
- `RETRIEVER_K=4`
- `DATA_PATH=@data`
- `LOG_LEVEL=INFO`

**.env.example:**
- –®–∞–±–ª–æ–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

### –ü–æ–¥—Ö–æ–¥ –∫ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—é

**logging.py:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `logging` (stdlib)
- –§–æ—Ä–º–∞—Ç: `%(asctime)s - %(name)s - %(levelname)s - %(message)s`
- –£—Ä–æ–≤–µ–Ω—å: –∏–∑ `LOG_LEVEL` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `INFO`)
- –í—ã–≤–æ–¥: –≤ –∫–æ–Ω—Å–æ–ª—å (stdout), –±–µ–∑ —Ñ–∞–π–ª–æ–≤ –Ω–∞ MVP

**–ß—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:**
- –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞ (`INFO`)
- –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`INFO`: user_id, –∫–æ–º–∞–Ω–¥–∞)
- –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (`INFO`: user_id, –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è; –±–µ–∑ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è)
- –ó–∞–ø—Ä–æ—Å—ã –∫ LLM (`INFO`: user_id, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞)
- –ó–∞–ø—É—Å–∫ evaluation (`INFO`: –¥–∞—Ç–∞—Å–µ—Ç, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã evaluation (`INFO`: –º–µ—Ç—Ä–∏–∫–∏, —Å—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ –≤ LangSmith)
- –û—à–∏–±–∫–∏ (`ERROR`: –¥–µ—Ç–∞–ª–∏ —Å traceback)
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (`WARNING`: –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –≤ LangSmith)

**–ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

**evaluation/evaluation.py:**
- –ú–æ–¥—É–ª—å –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ RAG pipeline —á–µ—Ä–µ–∑ RAGAS –º–µ—Ç—Ä–∏–∫–∏.
- –ö–æ–º–∞–Ω–¥–∞ `/evaluate_dataset` –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª evaluation:
  1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑ LangSmith (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è).
  2. –ó–∞–ø—É—Å–∫ RAG pipeline –Ω–∞ –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –¥–∞—Ç–∞—Å–µ—Ç–∞.
  3. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ 6 RAGAS –º–µ—Ç—Ä–∏–∫: faithfulness, answer_relevancy, answer_correctness, answer_similarity, context_recall, context_precision.
  4. –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–±—Ä–∞—Ç–Ω–æ –≤ LangSmith –∫–∞–∫ feedback.
- –†–µ—Ñ–µ—Ä–µ–Ω—Å: —Ä–∞–∑–¥–µ–ª 5 —Ç–µ—Ç—Ä–∞–¥–∫–∏ `rag-evaluation-practice.ipynb`.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è RAGAS (openai/huggingface).

**synthesis/dataset_synthesizer.py:**
- –ú–æ–¥—É–ª—å –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö Q&A –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –∏–∑ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∏–Ω—Ç–µ–∑ —á–µ—Ä–µ–∑ LLM: –≤—ã–±–æ—Ä–∫–∞ –ø–æ 2 —á–∞–Ω–∫–∞ –∏–∑ –∫–∞–∂–¥–æ–≥–æ PDF, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.
- –ó–∞–≥—Ä—É–∑–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö Q&A –ø–∞—Ä –∏–∑ JSON —Ñ–∞–π–ª–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å).
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `datasets/06-rag-qa-dataset.json`.
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤ LangSmith —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã (–∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –¥–∞—Ç–∞—Å–µ—Ç–µ).
- –†–µ—Ñ–µ—Ä–µ–Ω—Å: —Ä–∞–∑–¥–µ–ª 3 —Ç–µ—Ç—Ä–∞–¥–∫–∏ `rag-evaluation-practice.ipynb`.